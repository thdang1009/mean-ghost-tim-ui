<div class="ghost-wrapper">
  <div class="header-box">
    <div class="ghost-box">
      <div>
        <a aria-current="page" class="" [routerLink]="['/']">
          <img loading="lazy" width="100px" height="100px" class="top-avatar" alt="ghost" src="assets/img/ghost.png" alt="Ghost">
        </a>
      </div>
      <div>
        <ng-container *ngIf="!isLogined">
          <a [routerLink]="['/login']">LOGIN</a>
        </ng-container>
        <ng-container *ngIf="isLogined && hasBackofficePermission">
          <a [routerLink]="['/admin/dashboard']" class="bold">Go To Admin View</a>
          <span *ngIf="!hasBackofficePermission">You are Guess, contact
            <a href="mailto:mean.ghost.site@gmail.com">
              mean.ghost.site@gmail.com
            </a> to become admin and use more features
          </span>
        </ng-container>
      </div>
      <app-list-badge></app-list-badge>
    </div>
  </div>
  <div class="content-box">
    <div *ngIf="isFilteredByTag" class="back-to-hom-button"><a (click)="backToHome()">‚Üê Back to the Blog Home</a></div>
    <div class="list-post" *ngFor="let post of posts">
      <article class="post" [ngClass]="{'private-post': post.permission === 'PRIVATE'}">
        <a class="post-thumbnail" (click)="openPost(post)" [routerLink]="'/blogs/' + post.postReference" [ngStyle]="{
            'background-image': 'url(' + post.postBackgroundImg + ')'
          }"></a>
        <div class="post-content">
          <h2 class="post-title">
            <a [routerLink]="'/blogs/' + post.postReference">{{post.title}}</a>
          </h2>
          <p>{{post.description}}</p>
          <span class="post-date">
            {{post.author}}
            wrote
            <!-- write a component here later -->
            {{post.createdAt | timeAgo }}
            ({{post.createdAt | date }})
          </span>
          <ng-container *ngIf="post && post.tags.length">
            <div class="tagging" *ngFor="let tag of post.tags">
              <a class="tagging__item" [routerLink]="'/home'"
                [queryParams]="{ tag: tag.name }">#{{tag.name}}</a>
            </div>
          </ng-container>
        </div>
      </article>
    </div>
  </div>
</div>